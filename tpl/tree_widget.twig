{##
 # tree_widget.twig
 # 
 # A recursive template which builds a tree widget.
 # @author Patrick Emond <emondpd@mcmaster.ca>
 #}
<li id="{{ widget.full }}__{{ node.id }}" {{ node.open ? 'class="jstree-open"' : '' }}>
  {% if node.rank is defined %}
    <a style="color:{{ BACKGROUND_COLOR }}; text-transform: uppercase"
       class="tree"><ins class="no_icon"></ins><ins><span
       class="ui-icon ui-icon-script" /></ins> {{ node.title }}</a>
    <span style="color:{{ BACKGROUND_COLOR }}">(Queue {{ node.rank }})&nbsp; </span>
  {% else %}
    <a style="color:{{ BACKGROUND_COLOR }}; font-weight: normal"
       class="tree">{{ node.title }}</a>
  {% endif %}
  <span class="title" style="font:weight: normal">({{ node.count }})</span>
  {% if node.children|count %}
    <ul>
      {% for child in node.children %}
        {% include "tree_widget.twig" with { 'node': child } %}
      {% endfor %}
    </ul>
  {% endif %}
</li>
